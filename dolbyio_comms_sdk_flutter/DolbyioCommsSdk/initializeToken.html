<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the initializeToken method from the DolbyioCommsSdk class, for the Dart programming language.">
  <title>initializeToken method - DolbyioCommsSdk class - dolbyio_comms_sdk_flutter library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../../" data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">dolbyio_comms_sdk_flutter</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/dolbyio_comms_sdk_flutter-library.html">dolbyio_comms_sdk_flutter</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html">DolbyioCommsSdk</a></li>
    <li class="self-crumb">initializeToken method</li>
  </ol>
  <div class="self-name">initializeToken</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>


  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-method">initializeToken</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      

<span class="returntype"><a href="https://api.flutter.dev/flutter/dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter">void</span>&gt;</span></span>
<span class="name ">initializeToken</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="initializeToken-param-accessToken"><span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/String-class.html">String</a></span> <span class="parameter-name">accessToken</span>, </span></li>
<li><span class="parameter" id="initializeToken-param-refreshAccessToken"><span class="type-annotation">RefreshAccessTokenType</span> <span class="parameter-name">refreshAccessToken</span></span></li>
</ol>)

      

    </section>
    
<section class="desc markdown">
  <p>Initializes the SDK with an access token that is provided by the customer backend communicating with Dolby.io servers. The token allows securing the customer key and secret.
The following diagram presents the authentication flow:</p>
<pre class="language-dart"><code>Client          Customer Server       Dolby Server
|                    |                    |
|  Get Access Token  |  /oauth2/token (1) |
|-------------------&gt;|-------------------&gt;|
|    Access Token    |    Access Token    |
|&lt;-------------------|&lt;-------------------|
|  initializeToken(accessToken, callback) |
|----------------------------------------&gt;|
</code></pre>
<p>The access token has a limited period of validity and needs to be refreshed for security reasons. In such case, the SDK calls the callback provided to initializeToken. The callback must return a promise containing the refreshed access token by calling the customer backend, as presented in the following diagram:</p>
<pre class="language-dart"><code>Client          Customer Server       Dolby Server
|      callback      |  /oauth2/token (2) |
|-------------------&gt;|-------------------&gt;|
|    Access Token    |    Access Token    |
|&lt;-------------------|&lt;-------------------|
</code></pre>
<p>Where (1) and (2) are the <a href="https://docs.dolby.io/communications-apis/reference/get-client-access-token">REST API endpoints</a> that are available on Dolby.io servers.</p>
<p>The method contains two parameters:</p>
<ul>
<li><code>accessToken</code>:  The access token provided by the customer's backend.</li>
<li><code>refreshAccessToken</code>:  A callback that is called when the access token needs to be refreshed.</li>
</ul>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;void&gt; initializeToken(
    String accessToken, RefreshAccessTokenType refreshAccessToken) async {
  _methodChannel.setMethodCallHandler((call) async {
    if (call.method == &#39;getRefreshToken&#39;) {
      return await refreshAccessToken.call();
    }
  });
  return await _methodChannel
      .invokeMethod&lt;void&gt;(&quot;initializeToken&quot;, {&quot;accessToken&quot;: accessToken});
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../../index.html">dolbyio_comms_sdk_flutter</a></li>
  <li><a href="../../dolbyio_comms_sdk_flutter/dolbyio_comms_sdk_flutter-library.html">dolbyio_comms_sdk_flutter</a></li>
  <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html">DolbyioCommsSdk</a></li>
  <li class="self-crumb">initializeToken method</li>
</ol>


    <h5>DolbyioCommsSdk class</h5>
    <ol>



    <li class="section-title">
      <a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html#instance-properties">Properties</a>
    </li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/audioService.html">audioService</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/command.html">command</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/conference.html">conference</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/filePresentation.html">filePresentation</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/hashCode.html">hashCode</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/mediaDevice.html">mediaDevice</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/notification.html">notification</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/recording.html">recording</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/runtimeType.html">runtimeType</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/session.html">session</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/videoPresentation.html">videoPresentation</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/videoService.html">videoService</a></li>

    <li class="section-title"><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html#instance-methods">Methods</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/initialize.html">initialize</a></li>
    <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/initializeToken.html">initializeToken</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/toString.html">toString</a></li>

    <li class="section-title inherited"><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html#operators">Operators</a></li>
    <li class="inherited"><a href="https://api.flutter.dev/flutter/dart-core/Object/operator_equals.html">operator ==</a></li>


        <li class="section-title"><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk-class.html#static-properties">Static properties</a></li>
          <li><a href="../../dolbyio_comms_sdk_flutter/DolbyioCommsSdk/instance.html">instance</a></li>


</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    dolbyio_comms_sdk_flutter
      3.7.0-beta.1
  </span>

  
</footer>



<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>



</body>

</html>

